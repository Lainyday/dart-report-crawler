# DART 하도급대금 지급 현황 자동 수집 시스템 구축 보고서

## 1. 배경
건설업계의 하도급대금 지급 현황은 중소 협력사의 경영 안정성과 직결되는 중요한 지표입니다. 특히 현금성 결제 비중과 지급기일 준수 여부는 건전한 하도급 거래 문화 정착을 위한 핵심 모니터링 대상입니다. 그러나 각 건설사의 하도급대금 지급 현황을 수작업으로 모니터링하는 것은 시간과 인력 소모가 큽니다.

(현재 주요 건설사들은 매년 2월과 8월에 하도급대금 지급 현황을 의무적으로 공시하고 있으나, 이를 자동으로 수집하고 분석하는 시스템은 부재한 상황입니다.)

## 2. 목표
- 주요 건설사의 하도급대금 지급 현황 보고서를 자동으로 수집
- 핵심 지표(현금성 결제 비중, 60일 초과 지급 비중, 분쟁조정기구 설치 여부)를 추출
- 수집된 데이터를 이메일로 자동 전송하고 스프레드시트에 기록
- 반기별(2월, 8월) 데이터의 시계열적 관리 및 분석 기반 마련

## 3. 활용 방안
- 하도급대금 지급 현황 모니터링: 건설사별 지급 현황을 효율적으로 파악
- 업계 동향 분석: 현금성 결제 비중, 지급기일 준수율 등 핵심 지표의 추이 분석
- 정책 지원: 하도급 거래 개선을 위한 정책 수립의 기초 자료로 활용

## 4. 진행 절차

### 4.1 크롤러 개발 (Python/Streamlit)

1) 기본 환경 구성
```python
# 주요 라이브러리
- streamlit: 웹 인터페이스 및 API 엔드포인트 구현
- selenium: DART 웹사이트 크롤링
- pandas: 데이터 처리 및 정형화
```

2) 핵심 기능 구현
- DART 사이트 접근 및 데이터 추출
- 현금성 결제 데이터 파싱
- 60일 초과 지급 현황 파싱
- 분쟁조정기구 설치 여부 확인
- API 모드 지원 (헤더 기반 인증)

3) 배포 준비
```
- requirements.txt 구성
- packages.txt 구성 (Debian 환경 지원)
- README.md 작성
```

4) GitHub 저장소 구성
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin [repository-url]
git push -u origin main
```

5) Streamlit Cloud 배포
- GitHub 저장소 연결
- 환경 변수 설정
- 배포 및 테스트

### 4.2 Make.com 자동화 시나리오 구성

1) HTTP 요청 모듈
```yaml
URL: https://dart-report-crawler-ku69kh94fktpxdkwe8hzb8.streamlit.app/
Headers:
  - X-API-Key: dart_api_2024_secure_key_9x8q2w
  - Content-Type: application/json
설정:
  - Parse response: 활성화
  - Follow redirect: 비활성화
```

2) JSON 파싱 모듈
```yaml
입력: HTTP 응답 데이터
출력: 파싱된 데이터 배열
```

3) 이메일 전송 모듈
```yaml
수신자: [설정된 이메일]
제목: [DART] 건설사 하도급대금 지급 현황 보고서
본문: 
  - 수집 일시
  - 총 수집 건수
  - 주요 현황 요약
```

4) Google Sheets 연동 모듈
```yaml
스프레드시트: DART_하도급대금_현황_데이터
시트명: 하도급대금_현황
컬럼:
  - 공시대상회사
  - 접수일자
  - 현금_수표_지급금액
  - 현금_수표_비중
  - 초과지급금액
  - 초과지급비중
  - 분쟁조정기구
  - 수집일시
```

5) 스케줄 설정
```yaml
실행: 반기별
일자: 매년 2월, 8월 15일
시간: 오전 9:00 (한국 시간)
```

## 5. 최종 결과

### 5.1 자동화된 데이터 수집
- 10개 주요 건설사의 하도급대금 지급 현황 자동 수집
- 현금성 결제 비중, 60일 초과 지급 현황 등 핵심 지표 추출
- 분쟁조정기구 설치 여부 확인

### 5.2 데이터 전달 및 저장
- 이메일을 통한 자동 리포팅
- 구글 스프레드시트에 시계열 데이터 축적
- 반기별 추이 분석 가능

## 6. 향후 개선 사항
1) 데이터 시각화 강화
   - 건설사별 비교 차트
   - 시계열 추이 그래프

2) 알림 기능 확대
   - 특이사항 발생 시 즉시 알림
   - 카카오톡 등 추가 전달 채널 확보

3) 분석 기능 고도화
   - 업계 평균 대비 편차 분석
   - 전기 대비 변동 분석 